AdvertisementSupported byBy Kareem FahimBAGHDAD — Exploiting a foggy night as cover, Islamic State militants launched a surprise attack on Iraqi Kurdish positions on the outskirts of Kirkuk early Friday, killing a senior Kurdish commander and at least five of his men, security officials in the city said.The assault was one of the most aggressive undertaken against Kirkuk in months by the Islamic State, the jihadist group that straddles a large stretch of Iraq and Syria. The city, in northern Iraq, is an oil hub that is seen as central to the aspiration of Iraqi Kurdish leaders and that poses an attractive strategic target for the Islamic State, also known as ISIS or ISIL.Families fled their homes as the fighting intensified, and at one point, the militants stormed an abandoned hotel in the Kirkuk city center.The deadly foray on Friday demonstrated the continued ability of Islamic State fighters to harass Iraq’s cities, despite a punishing monthslong campaign by Iraqi forces backed by United States airstrikes to dislodge the extremists.Iraqi and American military officials have claimed recent successes, including killing top leaders and recapturing some territory held by the extremists. But they have also suggested that a victory against the Islamic State could take years, given the obstacles, including a lack of readiness on the part of Iraq’s security forces.A spate of deadly attacks by Islamic State fighters across the country on Friday amplified concerns about the difficulties of the military campaign.An explosive device and a car bomb were detonated in a busy market area in Baghdad on Friday morning, killing at least 20 people. Mortar shells fell on two other neighborhoods in the capital, killing five people and wounding at least eight, according to interior ministry officials.North of Baghdad, in the city of Samarra, Islamic State fighters attacked positions held by the Iraqi Army and allied militias, leaving six people dead. And in Jalawla, in eastern Iraq, a suicide bomber killed seven Kurdish fighters, known as pesh merga, including a lieutenant colonel.Hundreds of Islamic State fighters took part in the attack on Kirkuk early Friday, said Col. Hiwa Ahmed, a pesh merga commander who said that his forces had seen signs that the extremists had been preparing for the battle for at least a week.Using armored vehicles and suicide bombers, the militants attacked several pesh merga positions on the outskirts of the city. One senior pesh merga commander, Brig. Gen. Shirko Fatih, who led the First Brigade, was trapped by Islamic State fighters and was shot and killed, according to Colonel Ahmed. Five fighters who served with General Fatih were also killed, officials said.Residents caught in the fighting fled their homes, heading north to Iraqi Kurdistan, as city officials declared a curfew in the city and the surrounding areas.The United Nations decided to withdraw its foreign staff from the city, relocating them to Erbil, in Iraqi Kurdistan, because of security concerns, according to a Eliana Nabaa, a spokeswoman for the United Nations mission in Iraq. Iraqi staff members were also given the choice to relocate, she said.Later in the day, the militants attacked an abandoned hotel in the center of Kirkuk with a car bomb. A security official in the city said three Islamic State fighters had infiltrated the hotel, reaching its roof, but were later killed by pesh merga.The pesh merga called in reinforcements from Sulaimaniya and Dohuk, in Iraqi Kurdistan, to help secure the city. Airstrikes eventually helped beat back the militants’ advance.Pesh merga commanders said they had recovered the bodies of at least 107 Islamic State fighters: Some were tied to the back of vehicles by residents and paraded through Kirkuk’s streets, according to witnesses.As the battle subsided, Islamic State fighters were again seen regrouping on the outskirts of Kirkuk, preparing for what security officials expected would be another attack.Omar Al-Jawoshy contributed reporting.Advertisement